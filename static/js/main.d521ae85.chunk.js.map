{"version":3,"sources":["components/MovieItem.js","components/MovieTab.js","components/Pagination.js","components/App.js","index.js"],"names":["MovieItem","React","Component","constructor","super","this","state","myWillWatch","render","props","willWatch","myMovie","removeMyMovie","addMyMovie","removeMyMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","filter","item","id","length","type","find","onClick","setState","bind","MovieTab","sort_by","changeSortBy","handleClick","value","getClassLink","Pagination","totalPages","page","changePageToPrevious","changePageToNext","App","getMovies","fetch","then","response","json","data","myMovies","results","total_pages","newMovies","newRemoveMovies","newWillWatch","push","previousPage","nextPage","componentDidMount","componentDidUpdate","prevProps","prevState","snapshot","window","scrollTo","map","key","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d521ae85.chunk.js","sourcesContent":["import React from \"react\";\n\nclass MovieItem extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      myWillWatch: false,\n    }\n  }\n  render() {\n    const { willWatch, myMovie, removeMyMovie, addMyMovie, removeMyMovieFromWillWatch } = this.props;\n    return (\n      <div className=\"card\">\n        <img className=\"card-img-top\" src={`https://image.tmdb.org/t/p/w500${myMovie.backdrop_path || myMovie.poster_path}`} alt={myMovie.title} />\n        <div className=\"card-body\">\n          <h6 className=\"card-title\">{myMovie.title}</h6>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <p className=\"mb-0\">Rating: {myMovie.vote_average}</p>\n            {(this.state.myWillWatch || willWatch.filter( (item) => item.id === myMovie.id).length !== 0 )\n              ?\n              <button type=\"button\"\n                      className={(this.state.myWillWatch || willWatch.find( (item) => item.id === myMovie.id)) ? \"btn btn-success\" : \"btn btn-secondary\"}\n                      onClick = {() => {\n                        {(this.state.myWillWatch || willWatch.find( (item) => item.id === myMovie.id)) ? this.setState({myWillWatch: false}) : this.setState({myWillWatch: true})}\n                        removeMyMovieFromWillWatch(myMovie);\n                      }}\n              >\n                Remove will watch\n              </button>\n              :\n              <button type=\"button\"\n                      className={(this.state.myWillWatch && willWatch.find( (item) => item.id !== myMovie.id)) ? \"btn btn-success\" : \"btn btn-secondary\"}\n                      onClick = {() => {\n                        {this.state.myWillWatch ? this.setState({myWillWatch: false}) : this.setState({myWillWatch: true})}\n                        addMyMovie(myMovie);\n                      }}\n              >\n                Add will watch\n              </button>}\n          </div>\n          <button className=\"mb-4\" type=\"button\" onClick={removeMyMovie.bind(this, myMovie)}>Delete movie</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MovieItem;\n","import React from \"react\";\n\nclass MovieTab extends React.Component {\n    render() {\n        const { sort_by, changeSortBy } = this.props;\n        const handleClick = value => () => {changeSortBy(value)};\n        const getClassLink = value => {\n            return `nav-link ${sort_by===value ? \"active\" : \"\"}`;\n        };\n\n        return (\n            <ul className=\"tabs nav nav-pills\">\n                <li className=\"nav-item\">\n                    <div className={getClassLink(\"popularity.desc\")}\n                         onClick={handleClick(\"popularity.desc\")}\n                    >\n                        Popularity desc\n                    </div>\n                </li>\n                <li className=\"nav-item\">\n                    <div className={getClassLink(\"revenue.desc\")}\n                         onClick={handleClick(\"revenue.desc\")}\n                    >\n                        Revenue desc\n                    </div>\n                </li>\n                <li className=\"nav-item\">\n                    <div className={getClassLink(\"vote_average.desc\")}\n                         onClick={handleClick(\"vote_average.desc\")}\n                    >\n                        Vote average\n                    </div>\n                </li>\n            </ul>\n        );\n    }\n}\n\nexport default MovieTab;","import React from \"react\";\n\n\nclass Pagination extends React.Component {\n    render() {\n        const { totalPages, page, changePageToPrevious, changePageToNext } = this.props;\n        return (\n            <div className=\"d-flex justify-content-center\">\n                <ul className=\"tabs nav nav-pills\">\n                    <li className=\"nav-item\">\n                        <button className=\"nav-link\"\n                             onClick={changePageToPrevious.bind()}>\n                            Previous\n                        </button>\n                    </li>\n                    <li className=\"nav-item\">\n                        <div className=\"nav-link\">\n                            Current page: {page}\n                        </div>\n                    </li>\n                    <li className=\"nav-item\">\n                        <button className=\"nav-link\"\n                                onClick={changePageToNext.bind()}>\n                            Next\n                        </button>\n                    </li>\n                    <li className=\"nav-item\">\n                        <div className=\"nav-link\">\n                            Total pages: {totalPages}\n                        </div>\n                    </li>\n                </ul>\n            </div>\n        );\n    }\n}\n\nexport default Pagination;","import React from \"react\";\nimport { moviesData } from \"../moviesData\";\nimport MovieItem from \"./MovieItem\";\nimport MovieTab from \"./MovieTab\";\nimport Pagination from \"./Pagination\";\n\n\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      myMovies: [],\n      willWatch: [],\n      sort_by: \"popularity.desc\",\n      total_pages: \"\",\n      page: 1\n    }\n  }\n\n  componentDidMount() {\n    // fetch(\"http://cors-anywhere.herokuapp.com/\" + \"https://api.themoviedb.org/3/discover/movie?api_key=3f4ca4f3a9750da53450646ced312397&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1\")\n    this.getMovies();\n  };\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if((prevState.sort_by !== this.state.sort_by) || (prevState.page !== this.state.page)) {\n      this.getMovies();\n      window.scrollTo(0, 0);\n    }\n  };\n\n  getMovies = () => {\n    fetch(`https://api.themoviedb.org/3/discover/movie?api_key=3f4ca4f3a9750da53450646ced312397&language=en-US&sort_by=${this.state.sort_by}&page=${this.state.page}`)\n      .then((response) => {\n        return response.json()\n      }).then((data) => {\n      // console.log(\"data\", data);\n      this.setState(\n        {myMovies: data.results,\n          total_pages: data.total_pages}\n      );\n    });\n  };\n\n  removeMyMovie = myMovie => {\n    const newMovies = this.state.myMovies.filter(function(item) {\n      return item.id !== myMovie.id;\n    });\n    const newRemoveMovies = this.state.willWatch.filter(function(item) {\n      return item.id !== myMovie.id;\n    });\n    this.setState(\n      {myMovies: newMovies,\n        willWatch: newRemoveMovies}\n    );\n  };\n\n  addMyMovie = myMovie => {\n    const newWillWatch = [...this.state.willWatch];\n    newWillWatch.push(myMovie);\n    this.setState(\n      {willWatch: newWillWatch}\n    );\n  };\n\n  removeMyMovieFromWillWatch = myMovie => {\n    const newRemoveMovies = this.state.willWatch.filter(function(item) {\n      return item.id !== myMovie.id;\n    });\n    this.setState(\n      {willWatch: newRemoveMovies}\n    );\n  };\n\n  changeSortBy = value => {\n    this.setState({sort_by: value});\n  };\n\n  changePageToPrevious = () => {\n    if(this.state.page !== 1) {\n      const previousPage = this.state.page - 1;\n      this.setState({page: previousPage});\n    }\n  };\n\n  changePageToNext = () => {\n    if(this.state.page !== 500) {\n      const nextPage = this.state.page + 1;\n      this.setState({page: nextPage});\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-4\">\n          <div className=\"col-9\">\n            <div className=\"row mb-4\">\n              <div className=\"col-12\">\n                <MovieTab sort_by={this.state.sort_by} changeSortBy={this.changeSortBy} />\n              </div>\n            </div>\n            <div className=\"row\">\n              {this.state.myMovies.map( myMovie => {\n                return(\n                  <div className=\"col-6 mb-4\" key={myMovie.id}>\n                    <MovieItem willWatch={this.state.willWatch} myMovie={myMovie} removeMyMovie={this.removeMyMovie} addMyMovie={this.addMyMovie} removeMyMovieFromWillWatch={this.removeMyMovieFromWillWatch} />\n                  </div>\n                );\n              })}\n            </div>\n            <div className=\"row mb-4 mt-4\">\n              <div className=\"col-12\">\n                <Pagination totalPages={this.state.total_pages} changePageToPrevious={this.changePageToPrevious} page={this.state.page} changePageToNext={this.changePageToNext} />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-3\">\n            <p className=\"h2\">Will watch: {this.state.willWatch.length} movies</p>\n            <ul className=\"list-group\">\n              {this.state.willWatch.map( myMovie => {\n                return (\n                  <li key={myMovie.id} className=\"list-group-item\">\n                    <div className=\"d-flex justify-content-between\">\n                      <p>{myMovie.title}</p>\n                      <p>{myMovie.vote_average}</p>\n                    </div>\n                  </li>\n                )\n              })}\n            </ul>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}