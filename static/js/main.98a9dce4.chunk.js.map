{"version":3,"sources":["components/MovieItem.js","components/MovieTab.js","components/Pagination.js","components/App.js","index.js"],"names":["MovieItem","React","Component","constructor","super","this","state","myWillWatch","render","props","myMovie","removeMyMovie","addMyMovie","removeMyMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","console","log","setState","bind","MovieTab","sort_by","changeSortBy","handleClick","value","getClassLink","Pagination","totalPages","page","changePageToPrevious","changePageToNext","App","getMovies","fetch","then","response","json","data","myMovies","results","total_pages","newMovies","filter","item","id","newRemoveMovies","willWatch","newWillWatch","push","previousPage","nextPage","componentDidMount","componentDidUpdate","prevProps","prevState","snapshot","window","scrollTo","map","key","length","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.98a9dce4.chunk.js","sourcesContent":["import React from \"react\";\n\nclass MovieItem extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            myWillWatch: false\n        }\n    }\n  render() {\n    const { myMovie, removeMyMovie, addMyMovie, removeMyMovieFromWillWatch } = this.props;\n    return (\n        <div className=\"card\">\n            <img className=\"card-img-top\" src={`https://image.tmdb.org/t/p/w500${myMovie.backdrop_path || myMovie.poster_path}`} alt={myMovie.title} />\n           <div className=\"card-body\">\n               <h6 className=\"card-title\">{myMovie.title}</h6>\n               <div className=\"d-flex justify-content-between align-items-center\">\n                   <p className=\"mb-0\">Rating: {myMovie.vote_average}</p>\n                   {this.state.myWillWatch\n                       ?\n                       <button type=\"button\"\n                           className={this.state.myWillWatch ? \"btn btn-success\" : \"btn btn-secondary\"}\n                           onClick = {() => {\n                               console.log(myMovie);\n                               {this.state.myWillWatch ? this.setState({myWillWatch: false}) : this.setState({myWillWatch: true})}\n                               removeMyMovieFromWillWatch(myMovie);\n                           }}\n                        >\n                       Remove will watch\n                        </button>\n                       :\n                       <button type=\"button\"\n                           className={this.state.myWillWatch ? \"btn btn-success\" : \"btn btn-secondary\"}\n                           onClick = {() => {\n                               console.log(myMovie);\n                               {this.state.myWillWatch ? this.setState({myWillWatch: false}) : this.setState({myWillWatch: true})}\n                               addMyMovie(myMovie);\n                           }}\n                       >\n                       Add will watch\n                       </button>}\n               </div>\n               <button className=\"mb-4\" type=\"button\" onClick={removeMyMovie.bind(this, myMovie)}>Delete movie</button>\n           </div>\n        </div>\n    )\n  }\n}\n\nexport default MovieItem;\n","import React from \"react\";\n\nclass MovieTab extends React.Component {\n    render() {\n        const { sort_by, changeSortBy } = this.props;\n        const handleClick = value => () => {changeSortBy(value)};\n        const getClassLink = value => {\n            return `nav-link ${sort_by===value ? \"active\" : \"\"}`;\n        };\n\n        return (\n            <ul className=\"tabs nav nav-pills\">\n                <li className=\"nav-item\">\n                    <div className={getClassLink(\"popularity.desc\")}\n                         onClick={handleClick(\"popularity.desc\")}\n                    >\n                        Popularity desc\n                    </div>\n                </li>\n                <li className=\"nav-item\">\n                    <div className={getClassLink(\"revenue.desc\")}\n                         onClick={handleClick(\"revenue.desc\")}\n                    >\n                        Revenue desc\n                    </div>\n                </li>\n                <li className=\"nav-item\">\n                    <div className={getClassLink(\"vote_average.desc\")}\n                         onClick={handleClick(\"vote_average.desc\")}\n                    >\n                        Vote average\n                    </div>\n                </li>\n            </ul>\n        );\n    }\n}\n\nexport default MovieTab;","import React from \"react\";\n\n\nclass Pagination extends React.Component {\n    render() {\n        const { totalPages, page, changePageToPrevious, changePageToNext } = this.props;\n        return (\n            <div className=\"d-flex justify-content-center\">\n                <ul className=\"tabs nav nav-pills\">\n                    <li className=\"nav-item\">\n                        <button className=\"nav-link\"\n                             onClick={changePageToPrevious.bind()}>\n                            Previous\n                        </button>\n                    </li>\n                    <li className=\"nav-item\">\n                        <div className=\"nav-link\">\n                            Current page: {page}\n                        </div>\n                    </li>\n                    <li className=\"nav-item\">\n                        <button className=\"nav-link\"\n                                onClick={changePageToNext.bind()}>\n                            Next\n                        </button>\n                    </li>\n                    <li className=\"nav-item\">\n                        <div className=\"nav-link\">\n                            Total pages: {totalPages}\n                        </div>\n                    </li>\n                </ul>\n            </div>\n        );\n    }\n}\n\nexport default Pagination;","import React from \"react\";\nimport { moviesData } from \"../moviesData\";\nimport MovieItem from \"./MovieItem\";\nimport MovieTab from \"./MovieTab\";\nimport Pagination from \"./Pagination\";\n\n\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      myMovies: [],\n      willWatch: [],\n      sort_by: \"popularity.desc\",\n      total_pages: \"\",\n      page: 1\n    }\n  }\n\n  componentDidMount() {\n    // fetch(\"http://cors-anywhere.herokuapp.com/\" + \"https://api.themoviedb.org/3/discover/movie?api_key=3f4ca4f3a9750da53450646ced312397&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1\")\n    this.getMovies();\n  };\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if((prevState.sort_by !== this.state.sort_by) || (prevState.page !== this.state.page)) {\n      this.getMovies();\n      window.scrollTo(0, 0);\n    }\n  };\n\n  getMovies = () => {\n    fetch(`https://api.themoviedb.org/3/discover/movie?api_key=3f4ca4f3a9750da53450646ced312397&language=en-US&sort_by=${this.state.sort_by}&page=${this.state.page}`)\n        .then((response) => {\n          return response.json()\n        }).then((data) => {\n      // console.log(\"data\", data);\n      this.setState(\n          {myMovies: data.results,\n                 total_pages: data.total_pages}\n      );\n    });\n  };\n\n  removeMyMovie = myMovie => {\n    const newMovies = this.state.myMovies.filter(function(item) {\n       return item.id !== myMovie.id;\n    });\n    const newRemoveMovies = this.state.willWatch.filter(function(item) {\n      return item.id !== myMovie.id;\n    });\n    this.setState(\n      {myMovies: newMovies,\n             willWatch: newRemoveMovies}\n    );\n  };\n\n  addMyMovie = myMovie => {\n    const newWillWatch = [...this.state.willWatch];\n    newWillWatch.push(myMovie);\n    this.setState(\n        {willWatch: newWillWatch}\n        );\n  };\n\n  removeMyMovieFromWillWatch = myMovie => {\n    const newRemoveMovies = this.state.willWatch.filter(function(item) {\n      return item.id !== myMovie.id;\n    });\n    this.setState(\n        {willWatch: newRemoveMovies}\n    );\n  };\n\n  changeSortBy = value => {\n        this.setState({sort_by: value});\n  };\n\n  changePageToPrevious = () => {\n    if(this.state.page !== 1) {\n      const previousPage = this.state.page - 1;\n      this.setState({page: previousPage});\n    }\n  };\n\n  changePageToNext = () => {\n    if(this.state.page !== 500) {\n      const nextPage = this.state.page + 1;\n      this.setState({page: nextPage});\n    }\n  };\n\n  render() {\n  return (\n      <div className=\"container\">\n        <div className=\"row mt-4\">\n          <div className=\"col-9\">\n            <div className=\"row mb-4\">\n              <div className=\"col-12\">\n                <MovieTab sort_by={this.state.sort_by} changeSortBy={this.changeSortBy} />\n              </div>\n            </div>\n            <div className=\"row\">\n              {this.state.myMovies.map( myMovie => {\n                return(\n                    <div className=\"col-6 mb-4\" key={myMovie.id}>\n                        <MovieItem myMovie={myMovie} removeMyMovie={this.removeMyMovie} addMyMovie={this.addMyMovie} removeMyMovieFromWillWatch={this.removeMyMovieFromWillWatch} />\n                    </div>\n                    );\n              })}\n            </div>\n            <div className=\"row mb-4 mt-4\">\n              <div className=\"col-12\">\n                <Pagination totalPages={this.state.total_pages} changePageToPrevious={this.changePageToPrevious} page={this.state.page} changePageToNext={this.changePageToNext} />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-3\">\n            <p className=\"h2\">Will watch: {this.state.willWatch.length} movies</p>\n            <ul className=\"list-group\">\n            {this.state.willWatch.map( myMovie => {\n              return (\n                  <li key={myMovie.id} className=\"list-group-item\">\n                    <div className=\"d-flex justify-content-between\">\n                      <p>{myMovie.title}</p>\n                      <p>{myMovie.vote_average}</p>\n                    </div>\n                  </li>\n              )\n            })}\n            </ul>\n          </div>\n        </div>\n      </div>\n\n  )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}