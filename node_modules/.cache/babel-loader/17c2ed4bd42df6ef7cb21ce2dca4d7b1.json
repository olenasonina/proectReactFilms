{"ast":null,"code":"import React from\"react\";import{moviesData}from\"../moviesData\";import MovieItem from\"./MovieItem\";class App extends React.Component{constructor(){super();this.removeMyMovie=myMovie=>{const newMovies=this.state.myMovies.filter(function(item){return item.id!==myMovie.id;});this.setState({myMovies:newMovies});};this.addMyMovie=myMovie=>{const newWillWatch=[...this.state.willWatch];newWillWatch.push(myMovie);this.setState({willWatch:newWillWatch});};this.removeMyMovieFromWillWatch=myMovie=>{const newRemoveMovies=this.state.willWatch.filter(function(item){return item.id!==myMovie.id;});this.setState({willWatch:newRemoveMovies});};this.state={myMovies:[],willWatch:[]};}componentDidMount(){fetch(\"http://cors-anywhere.herokuapp.com/\"+\"https://api.themoviedb.org/3/discover/movie?api_key=3f4ca4f3a9750da53450646ced312397&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1\").then(response=>{console.log(\"then\");return response.json();}).then(data=>{console.log(\"data\",data);this.setState({myMovies:data.results});});}render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-9\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},this.state.myMovies.map(myMovie=>{return/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-4\",key:myMovie.id},/*#__PURE__*/React.createElement(MovieItem,{myMovie:myMovie,removeMyMovie:this.removeMyMovie,addMyMovie:this.addMyMovie,removeMyMovieFromWillWatch:this.removeMyMovieFromWillWatch}));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-3\"},/*#__PURE__*/React.createElement(\"p\",null,\"Will watch: \",this.state.willWatch.length),/*#__PURE__*/React.createElement(\"ul\",{className:\"list-group\"},this.state.willWatch.map(myMovie=>{return/*#__PURE__*/React.createElement(\"li\",{key:myMovie.id,className:\"list-group-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"p\",null,myMovie.title),/*#__PURE__*/React.createElement(\"p\",null,myMovie.vote_average)));})))));}}// function removeMovie (movie) {\n//   console.log(\"/// removeMovie\");\n//   console.log(this, \"MOVIE single\", movie);\n//   const updateMovies = this.state.movies.filter(function (item) {\n//     return item.id  !== movie.id;\n//   })\n//   console.log(updateMovies);\n//   this.setState({\n//     movies: updateMovies\n//   })\n// }\n// class App extends React.Component {\n//   constructor() {\n//     super();\n//     this.state = {\n//       movies: moviesData,\n//       moviesWillWatch: []\n//     };\n//     // this.removeMovie = this.removeMovie.bind(this);\n//   }\n//   render() {\n//     console.log(\"--- App ---\");\n//     console.log(\"App render\", this.state);\n//     // console.log(\"App this\", this.state.movies[1].title);\n//     return (\n//       <div className=\"container\">\n//         <div className=\"row\">\n//           <MovieList movies={this.state.movies} appThis = {this}/>\n//           <div className=\"col-4 col-sm-3 mt-4\">\n//             <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\n//             <ul className=\"list-group\">\n//               <li className=\"list-group-item\">\n//                 <div className=\"d-flex justify-content-between\">1111 </div>\n//               </li>\n//             </ul>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n// class MovieList extends React.Component {\n//   render() {\n//     const { movies, appThis } = this.props;\n//     console.log(\"--- MovieList ---\");\n//     // console.log(this.props);\n//     // console.log(\"MovieList movies\", movies, removeMovie);\n//     return (\n//       <div className=\"col-8 col-sm-9\">\n//         <div className=\"row\">\n//           {movies.map(function(movie) {\n//             return (\n//               <div className=\"offset-1 col-10 offset-sm-0 col-sm-6 mt-4\" key={movie.id}>\n//                 <MovieItem movie={movie} removeMovie={removeMovie} appThis = {appThis} />\n//               </div>\n//             );\n//           }, this)}\n//         </div>\n//       </div>\n//     );\n//   }\n// }\nexport default App;","map":{"version":3,"sources":["/home/sonin/Рабочий стол/hello word/Академия Шаг/Проекты/reactWarior10 My variant/src/components/App.js"],"names":["React","moviesData","MovieItem","App","Component","constructor","removeMyMovie","myMovie","newMovies","state","myMovies","filter","item","id","setState","addMyMovie","newWillWatch","willWatch","push","removeMyMovieFromWillWatch","newRemoveMovies","componentDidMount","fetch","then","response","console","log","json","data","results","render","map","length","title","vote_average"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { moviesData } from \"../moviesData\";\nimport MovieItem from \"./MovieItem\";\n\n\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      myMovies: [],\n      willWatch: []\n    }\n  }\n\n  componentDidMount() {\n    fetch(\"http://cors-anywhere.herokuapp.com/\" + \"https://api.themoviedb.org/3/discover/movie?api_key=3f4ca4f3a9750da53450646ced312397&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1\")\n        .then((response) => {\n          console.log(\"then\");\n          return response.json()\n         }).then((data) => {\n         console.log(\"data\", data)\n         this.setState(\n             {myMovies: data.results}\n    )\n    })\n  }\n\n  removeMyMovie = myMovie => {\n    const newMovies = this.state.myMovies.filter(function(item) {\n       return item.id !== myMovie.id;\n    });\n    this.setState(\n      {myMovies: newMovies}\n    );\n  };\n\n  addMyMovie = myMovie => {\n    const newWillWatch = [...this.state.willWatch];\n    newWillWatch.push(myMovie);\n    this.setState(\n        {willWatch: newWillWatch}\n        );\n  };\n\n  removeMyMovieFromWillWatch = myMovie => {\n    const newRemoveMovies = this.state.willWatch.filter(function(item) {\n      return item.id !== myMovie.id;\n    });\n    this.setState(\n        {willWatch: newRemoveMovies}\n    );\n  };\n\n  render() {\n  return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-9\">\n            <div className=\"row\">\n              {this.state.myMovies.map( myMovie => {\n                return(\n                    <div className=\"col-6 mb-4\" key={myMovie.id}>\n                        <MovieItem myMovie={myMovie} removeMyMovie={this.removeMyMovie} addMyMovie={this.addMyMovie} removeMyMovieFromWillWatch={this.removeMyMovieFromWillWatch} />\n                    </div>\n                    );\n              })}\n            </div>\n          </div>\n          <div className=\"col-3\">\n            <p>Will watch: {this.state.willWatch.length}</p>\n            <ul className=\"list-group\">\n            {this.state.willWatch.map( myMovie => {\n              return (\n                  <li key={myMovie.id} className=\"list-group-item\">\n                    <div className=\"d-flex justify-content-between\">\n                      <p>{myMovie.title}</p>\n                      <p>{myMovie.vote_average}</p>\n                    </div>\n                  </li>\n              )\n            })}\n            </ul>\n          </div>\n        </div>\n      </div>\n\n  )\n  }\n}\n\n\n\n// function removeMovie (movie) {\n//   console.log(\"/// removeMovie\");\n//   console.log(this, \"MOVIE single\", movie);\n\n//   const updateMovies = this.state.movies.filter(function (item) {\n//     return item.id  !== movie.id;\n//   })\n//   console.log(updateMovies);\n//   this.setState({\n//     movies: updateMovies\n//   })\n// }\n\n// class App extends React.Component {\n//   constructor() {\n//     super();\n\n//     this.state = {\n//       movies: moviesData,\n//       moviesWillWatch: []\n//     };\n\n//     // this.removeMovie = this.removeMovie.bind(this);\n//   }\n\n//   render() {\n//     console.log(\"--- App ---\");\n//     console.log(\"App render\", this.state);\n//     // console.log(\"App this\", this.state.movies[1].title);\n//     return (\n//       <div className=\"container\">\n//         <div className=\"row\">\n//           <MovieList movies={this.state.movies} appThis = {this}/>\n//           <div className=\"col-4 col-sm-3 mt-4\">\n//             <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\n//             <ul className=\"list-group\">\n//               <li className=\"list-group-item\">\n//                 <div className=\"d-flex justify-content-between\">1111 </div>\n//               </li>\n//             </ul>\n//           </div>\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\n// class MovieList extends React.Component {\n//   render() {\n//     const { movies, appThis } = this.props;\n//     console.log(\"--- MovieList ---\");\n//     // console.log(this.props);\n//     // console.log(\"MovieList movies\", movies, removeMovie);\n//     return (\n//       <div className=\"col-8 col-sm-9\">\n//         <div className=\"row\">\n//           {movies.map(function(movie) {\n//             return (\n//               <div className=\"offset-1 col-10 offset-sm-0 col-sm-6 mt-4\" key={movie.id}>\n//                 <MovieItem movie={movie} removeMovie={removeMovie} appThis = {appThis} />\n//               </div>\n//             );\n//           }, this)}\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}